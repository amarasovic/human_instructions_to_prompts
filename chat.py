systemPrompt = "In this task you will read passages with a negated statement highlighted. Negated statements indicate something didn’t happen or something is not the case. They are often indicated by words such as- **'not', 'never', 'in the absence of', 'without',** etc., but can also be indicated by words that start with **un, im, in, il** etc. such as **un**happy or **il**legal, which may indicate a person is not happy or an activity is not legal.\nThis task will have three stages. **In the first stage**, you will be asked to rewrite the passage in three different ways-\n1. rewriting the negated statement such that the new sentence has the same meaning but uses different words,\n2. modifying what is being negated,\n3. undoing the negation.\n**In the second stage of the task**, you will need to ask atleast three questions about the implication of the thing that didn't happen in the original passage.\nFor example, for the statement '**Unlike** Disney animation, where the emphasis is on the movement, anime emphasizes the art quality and let limited animation techniques make up for the lack of time spenton movement.'\nA good question would be 'Would you expect to see more fast action or elaborate scenery in Disney animation?', since the original passage says anime is not like disney animation since it doesn't focus on movement but on art quality, and fast action usually features a lot of movement- it is more likely that Disney animation would have fast action.\n**In the third stage of the task**, you will provide answers to this constructed question set for the original passage, as well as for the three additional rewritten passages you constructed.\nStage 1:\nIn the first stage of the task, you will get a passage for the task.You will then be asked to make edits to the provided passage. We request three kinds of changes to the original passage:\n1. Rewrite the highlighted sentence, such that the new sentence you construct has the same meaning as the original, but the word or phrase that indicates the thing didn’t happen is no longer present.\n2. Rewrite the highlighted sentence and change what is being negated.\n3. Rewrite the highlighted sentence such that what **was** negated in the original passage, is no longer negated.\nIn all cases, please change other parts of the passage as needed to make the passage coherent.\nTutorial:\nPassage: Apple contributes financially to fundraisers in times of natural disasters. In November 2012, it donated $2.5 million to the American Red Cross to aid relief efforts after Hurricane Sandy , and in 2017 it donated $5 million to relief efforts for both Hurricane Irma andHurricane Harvey , as well as for the 2017 Central Mexico earthquake. The company has also used its iTunes platform to encourage donations , including , but not limited to , help the American Red Cross in the aftermath of the 2010 Haiti earthquake , followed by similar procedure in the aftermath of the 2011 Japan earthquake , Typhoon in November 2013 , and European migrant crisis in September 2015. **Apple emphasizes that it does not incur any processing or other fees for iTunes donations , sending 100% of the payments directly to relief efforts , though it also acknowledges that the Red Cross does not receive any personal information on the users donating and that the payments may not be tax deductible.**\nEDIT #1: Rewrite Sentence\nPassage: Apple contributes financially to fundraisers in times of natural disasters. In November 2012, it donated $2.5 million to the American Red Cross to aid relief efforts after Hurricane Sandy , and in 2017 it donated $5 million to relief efforts for both Hurricane Irma and Hurricane Harvey , as well as for the 2017 Central Mexico earthquake. The company has also used its iTunes platform to encourage donations , including , but not limited to , help the American Red Cross in the aftermath of the 2010 Haiti earthquake , followed by similar procedure in the aftermath of the 2011 Japan earthquake , Typhoon Haiyan in the Philippines in November 2013 , and European migrant crisis in September 2015. **Apple emphasizes that it incurs zero processing or other fees for iTunes donations , sending 100% of the payments directly to relief efforts , though it also acknowledges that the Red Cross does not receive any personal information on the users donating and that the payments may not be tax deductible.**\nExplanation: We rewrite 'does not incur any processing or other fees for iTunes donations' to 'incurs zero processing or other fees for iTunes donations', which describes the same negated statement in different words. In particular, we sucessfully avoided using words like 'no', 'not', 'never' etc., while doing this rewrite.\nEDIT #2: Change the Effect of the Negation\nPassage: Apple contributes financially to fundraisers in times of natural disasters. In November 2012, it donated $2.5 million to the American Red Cross to aid relief efforts after Hurricane Sandy , and in 2017 it donated $5 million to relief efforts for both Hurricane Irma and Hurricane Harvey , as well as for the 2017 Central Mexico earthquake. The company has also used its iTunes platform to encourage donations , including , but not limited to , help the American Red Cross in the aftermath of the 2010 Haiti earthquake , followed by similar procedure in the aftermath of the 2011 Japan earthquake , Typhoon Haiyan in the Philippines in November 2013 , and European migrant crisis in September 2015. **Apple emphasizes that it does not incur any processing fees for iTunes donations (though it may collect additional fees), sending most of the payments directly to relief efforts , though it also acknowledges that the Red Cross does not receive any personal information on the users donating and that the payments may not be tax deductible.**\nExplanation: We rewrite 'does not incur any processing or other fees for iTunes donations' to 'does not incur any processing fees for iTunes donations (though it may collect additional fees)'', which changed the effect of the negation from extending to both processing and other fees (original), to only processing fees (edited).\nEDIT #3: Undo the Negation\nPassage: Apple contributes financially to fundraisers in times of natural disasters. In November 2012, it donated $2.5 million to the American Red Cross to aid relief efforts after Hurricane Sandy , and in 2017 it donated $5 million to relief efforts for both Hurricane Irma and Hurricane Harvey , as well as for the 2017 Central Mexico earthquake. The company has also used its iTunes platform to encourage donations , including , but not limited to , help the American Red Cross in the aftermath of the 2010 Haiti earthquake , followed by similar procedure in the aftermath of the 2011 Japan earthquake , Typhoon Haiyan in the Philippines in November 2013 , and European migrant crisis in September 2015. **Apple emphasizes that it incurs only minimal processing and other fees for iTunes donations , sending most of the payments directly to relief efforts , though it also acknowledges that the Red Cross does not receive any personal information on the users donating and that the payments may not be tax deductible.**\nExplanation: We rewrite 'does not incur any processing or other fees for iTunes donations' to 'incurs only minimal processing and other fees for iTunes donations', which undid the negation by stating that Apple collects oth processing and other fees.\n**TIP #1:** We recommend constructing the passages such that they are as similar to each other as possible.\n**TIP #2:** For Edit #1 (rewrite the negation), we would appreciate if you can try to rewrite the sentence such that it does not use words such as 'no', 'not', 'never', but still has the same meaning as the original sentence.\n**TIP #3:** For Edit#3 (undo the negation), you can try to use a different negation word somewhere in the sentence if possible. For example, changing 'The United States Task Force in 2016 found it was unclear if screening was beneficial or harmful among children in whom there is no concern' to 'The United States Preventive Services Task Force in 2016 found it was beneficial to screen children in whom there is no concern, and **unlikely** to be harmful'.\nStage 2\nThe second stage will involve asking three or more questions related to the negated statement. The highlighted line in the original passage will describe something that does *not* happen, or is not the case. The question you pose must be about the consequences of the thing not happening.\nTutorial:\nPassage: Apple contributes financially to fundraisers in times of natural disasters. In November 2012, it donated $2.5 million to the American Red Cross to aid relief efforts after Hurricane Sandy , and in 2017 it donated $5 million to relief efforts for both Hurricane Irma andHurricane Harvey , as well as for the 2017 Central Mexico earthquake. The company has also used its iTunes platform to encourage donations , including , but not limited to , help the American Red Cross in the aftermath of the 2010 Haiti earthquake , followed by similar procedure in the aftermath of the 2011 Japan earthquake , Typhoon in November 2013 , and European migrant crisis in September 2015. **Apple emphasizes that it does not incur any processing or other fees for iTunes donations , sending 100% of the payments directly to relief efforts , though it also acknowledges that the Red Cross does not receive any personal information on the users donating and that the payments may not be tax deductible.**\nThe highlighted sentence describes something that does not happen 'Apple emphasizes that it oes not incur any processing or other fees for iTunes donations'.\nYou will now ask three questions about the implications of the thing that didn’t happen, and fill in your answer to the question. Potential questions could be:\nQ1: Does Apple make a profit through ITunes donations?\nQ2: Does Apple lose money on ITunes donations?\nQ3: Does Apple pass on the entirety of ITunes donations?\nHow to construct good questions?\nThese questions look very similar to each other (largely using the same words), but have different answers. We would like you to construct similar questions. If using this question format, try to construct questions such that one question's answer is 'yes', one question's answer is 'no'. and one question's answer is 'don't know'. Also try to ensure that the answers to these questions will change for the different passages you constructed.\n**TIP:** It is easiest to start with one question, and try to change it so that you would get a different answer.\n**Recommended question-answer formats are:**\n1. 'Does **[ASSERTION]**?', Answer choices: a) Yes b) No c) Don't know\n**Example**: 'Does **[Apple pass on the entirety of ITunes donations]**?'\n2. 'Is **[X]** or **[Y]** **[condition]**?', Answer choices: a) **X** b) **Y**\n'Would you expect **[X]** or **[Y]** **[condition]**?'', Answer choices: a) **X** b) **Y**\n**Example:** 'Does Apple **[make a profit]** or **[lose money** on **[iTunes donations]**?\n**TIP:** We recommend constructing the first question such that it targets the implication of the negation. The second and third questions can be constructed by making slight edits to the first question such that the answer to the first question changes. Try to avoid constructing questions which have the same answer.\nStage 3\nYou will then provide the answers for the same set of questions, for the original passage and for each of the three passages you constructed in stage 1. If your questions have been constructed correctly, some of their answers should change for the different passages.\Tutorial:\nOriginal Passage: Apple contributes financially to fundraisers in times of natural disasters. In November 2012, it donated $2.5 million to the American Red Cross to aid relief efforts after Hurricane Sandy , and in 2017 it donated $5 million to relief efforts for both Hurricane Irma andHurricane Harvey , as well as for the 2017 Central Mexico earthquake. The company has also used its iTunes platform to encourage donations , including , but not limited to , help the American Red Cross in the aftermath of the 2010 Haiti earthquake , followed by similar procedure in the aftermath of the 2011 Japan earthquake , Typhoon in November 2013 , and European migrant crisis in September 2015. **Apple emphasizes that it does not incur any processing or other fees for iTunes donations , sending 100% of the payments directly to relief efforts , though it also acknowledges that the Red Cross does not receive any personal information on the users donating and that the payments may not be tax deductible.**\nQuestions:\nQ1: Does Apple make a profit through ITunes donations?\nAnswer: No\nExplanation: Since the sentence says that apple does not collect any processing or other fees on top of donations consequence: it is unlikely they make a profit\nQ2: Does Apple lose money on ITunes donations?\nAnswer: Don't know\nExplanation:The sentence says that Apple does not collect any processing or other fees on top of donations, however there is not enough information available in the passage to know if Apple is losing money on ITunes donations. For example, they might not have any processing fees in which case they neither make a profit or a loss.\nQ3: Does Apple pass on the entirety of ITunes donations?\nAnswer: Yes\nExplanation: Since the sentence says that apple does not collect any processing or other fees on top of donations, and later says 100% is directed towards relief efforts, it is likely they pass on the entire donation.\nEDIT #1: Rewrite Sentence\nFor Edit #1, all three answers remain the same as for the original passage, as the passage has the same meaning as the original.\nPassage: Apple contributes financially to fundraisers in times of natural disasters. In November 2012, it donated $2.5 million to the American Red Cross to aid relief efforts after Hurricane Sandy , and in 2017 it donated $5 million to relief efforts for both Hurricane Irma and Hurricane Harvey , as well as for the 2017 Central Mexico earthquake. The company has also used its iTunes platform to encourage donations , including , but not limited to , help the American Red Cross in the aftermath of the 2010 Haiti earthquake , followed by similar procedure in the aftermath of the 2011 Japan earthquake , Typhoon Haiyan in the Philippines in November 2013 , and European migrant crisis in September 2015. **Apple emphasizes that it incurs zero processing or other fees for iTunes donations , sending 100% of the payments directly to relief efforts , though it also acknowledges that the Red Cross does not receive any personal information on the users donating and that the payments may not be tax deductible.**\nQuestions:\nQ1: Does Apple make a profit through ITunes donations?\nAnswer: No\nQ2: Does Apple lose money on ITunes donations?\nAnswer: Don't know\nQ3: Does Apple pass on the entirety of ITunes donations?\nAnswer: Yes\nEDIT #2: Change the Effect of the Negation\nPassage: Apple contributes financially to fundraisers in times of natural disasters. In November 2012, it donated $2.5 million to the American Red Cross to aid relief efforts after Hurricane Sandy , and in 2017 it donated $5 million to relief efforts for both Hurricane Irma and Hurricane Harvey , as well as for the 2017 Central Mexico earthquake. The company has also used its iTunes platform to encourage donations , including , but not limited to , help the American Red Cross in the aftermath of the 2010 Haiti earthquake , followed by similar procedure in the aftermath of the 2011 Japan earthquake , Typhoon Haiyan in the Philippines in November 2013 , and European migrant crisis in September 2015. **Apple emphasizes that it does not incur any processing fees for iTunes donations (though it may collect additional fees), sending most of the payments directly to relief efforts , though it also acknowledges that the Red Cross does not receive any personal information on the users donating and that the payments may not be tax deductible.**\nQuestions:\nQ1: Does Apple make a profit through ITunes donations?\nAnswer: Don't know\nExplanation: Since the sentence says that apple collects some fees: it is unknown if it is enough to make a profit\nQ2: Does Apple lose money on ITunes donations?\nAnswer: Don't know\nExplanation: Since the sentence says that apple collects some fees: it is unknown if they collect enough fees or make a loss. If their additional fees are less than the cost to them of processing the donation, they will make a loss but there is not enough information in the passage to decide.\nQ3: Does Apple pass on the entirety of ITunes donations?\nAnswer: No\nExplanation: Since the sentence says that apple does collect some fees, part of the money given by the donor goes towards that.\nEDIT #3: Undo the Negation\nPassage: Apple contributes financially to fundraisers in times of natural disasters. In November 2012, it donated $2.5 million to the American Red Cross to aid relief efforts after Hurricane Sandy , and in 2017 it donated $5 million to relief efforts for both Hurricane Irma and Hurricane Harvey , as well as for the 2017 Central Mexico earthquake. The company has also used its iTunes platform to encourage donations , including , but not limited to , help the American Red Cross in the aftermath of the 2010 Haiti earthquake , followed by similar procedure in the aftermath of the 2011 Japan earthquake , Typhoon Haiyan in the Philippines in November 2013 , and European migrant crisis in September 2015. **Apple emphasizes that it incurs only minimal processing and other fees for iTunes donations , sending most of the payments directly to relief efforts , though it also acknowledges that the Red Cross does not receive any personal information on the users donating and that the payments may not be tax deductible.**\n"

imageUrl = "TBD"
og_passage = ""
og_sentence = ""
paraphraseEditPrompt = f"Stage 1:\\Rewrite the highlighted sentence, such that the new sentence you construct has the same meaning as the original. Copy the entire passage with the new sentence and make sure the passage is coherent.\nPassage: {og_passage}\nHighlighted sentence: {og_sentence}."

scopeEditPrompt = f"Rewrite the highlighted sentence and change what is being negated. Copy the entire passage with the new sentence and make sure the passage is coherent.\nPassage: {og_passage}\nHighlighted sentence: {og_sentence}."

affirmativeEditPrompt = f"Rewrite the highlighted sentence such that what was negated in the original passage, is no longer negated. Copy the entire passage with the new sentence and make sure the passage is coherent.\nPassage: {og_passage}\nHighlighted sentence: {og_sentence}."

questionPrompt = f"Stage 2:\\Ask three questions:\nIn the next stage you will provide answers to questions for the above passage, as well as the three passages you constructed Try to ensure your questions are very similar to each other, but have different answers for the original passage. Also try to ensure that the answer to the same question is different for the different passages you constructed."

question = ""
answerOgFirstPrompt= f"Stage 3:\nProvide answers to your questions for all passages:\nAnswer questions for the original passage\nOriginal Passage: {og_passage}\n1. Question 1: {question}\nAnswer 1: Yes, No, Don't know, or write an answer if it is a span in the question or if it doesn't fit any of the answer types above."

confidencePrompt = f"On a scale of 1-10, how confident are you that your answer is correct? (1-not confident, 10-absolutely confident)"

qa_id = 2
answerSecondThirdPrompt = f"{qa_id}. Question {qa_id}: {question}\nAnswer {qa_id}: Yes, No, Don't know, or write an answer if it is a span in the question or if it doesn't fit any of the answer types above."

edit = "Edit #1 (Rewrite the Negation)" # also "Edit #2 (Change the Effect of the Negation)", "Edit #3 (Undo the Negation)"
edit_passage = ""
answerEditedFirstPrompt = f"Answer Questions for {edit}\nPassage Edit: {edit_passage}\n1. Question 1: {question}\nAnswer 1: Yes, No, Don't know, or write an answer if it is a span in the question or if it doesn't fit any of the answer types above."

# use answerSecondThirdPrompt for the rest

answerOtherPrompt = f""

chat = [
        {
          "role": "system", 
          "content": [
                      {
                        type: 'text', 
                        "text": systemPrompt
                      },
                      {
                        type: 'image_url',
                        "image_url": {"url": imageUrl}
                      }
                      ],
        },
        {
          "role": "user",
          "content": [
                      {
                        type: 'text', 
                        "text": paraphraseEditPrompt,
                      }
                      ]
        },
        {
          "role": "assistant",
          "content": [
                      {
                        type: 'text', 
                        "text": paraphraseEdit,
                      }
                      ]
        },
        {
          "role": "user",
          "content": [
                      {
                        type: 'text', 
                        "text": scopeEditPrompt,
                      }
                      ]
        },
                {
          "role": "assistant",
          "content": [
                      {
                        type: 'text', 
                        "text": scopeEdit,
                      }
                      ]
        },
        {
          "role": "user",
          "content": [
                      {
                        type: 'text', 
                        "text": affirmativeEditPrompt,
                      }
                      ]
        },
        {
          "role": "assistant",
          "content": [
                      {
                        type: 'text', 
                        "text": affirmativeEdit,
                      }
                      ]
        },
                {
          "role": "user",
          "content": [
                      {
                        type: 'text', 
                        "text": questionPrompt,
                      }
                      ]
        },
                {
          "role": "assistant",
          "content": [
                      {
                        type: 'text', 
                        "text": questions,
                      }
                      ]
        },
        {
          "role": "user",
          "content": [
                      {
                        type: 'text', 
                        "text": answerOgFirstPrompt,
                      }
                      ]
        },
                {
          "role": "assistant",
          "content": [
                      {
                        type: 'text', 
                        "text": answerOgFirst,
                      }
                      ]
        },
        {
          "role": "user",
          "content": [
                      {
                        type: 'text', 
                        "text": confidencePrompt,
                      }
                      ]
        },
                {
          "role": "assistant",
          "content": [
                      {
                        type: 'text', 
                        "text": confidence,
                      }
                      ]
        },
      ]

qa_id = 2
chat.append(        
        {
          "role": "user",
          "content": [
                      {
                        type: 'text', 
                        "text": answerSecondThirdPrompt,
                      }
                      ]
        },
                {
          "role": "assistant",
          "content": [
                      {
                        type: 'text', 
                        "text": answer,
                      }
                      ]
        },
        {
          "role": "user",
          "content": [
                      {
                        type: 'text', 
                        "text": confidencePrompt,
                      }
                      ]
        },
                {
          "role": "assistant",
          "content": [
                      {
                        type: 'text', 
                        "text": confidence,
                      }
                      ]
        },
        )

qa_id = 3
chat.append(        {
          "role": "user",
          "content": [
                      {
                        type: 'text', 
                        "text": answerSecondThirdPrompt,
                      }
                      ]
        },
                {
          "role": "assistant",
          "content": [
                      {
                        type: 'text', 
                        "text": answer,
                      }
                      ]
        },
        {
          "role": "user",
          "content": [
                      {
                        type: 'text', 
                        "text": confidencePrompt,
                      }
                      ]
        },
                {
          "role": "assistant",
          "content": [
                      {
                        type: 'text', 
                        "text": confidence,
                      }
                      ]
        },        
        
        
        )

edit = "Edit #1 (Rewrite the Negation)" # also "Edit #2 (Change the Effect of the Negation)", "Edit #3 (Undo the Negation)"
edit_passage = "praphrased passage"
chat.append(        {
          "role": "user",
          "content": [
                      {
                        type: 'text', 
                        "text": answerEditedFirstPrompt,
                      }
                      ]
        },
                {
          "role": "assistant",
          "content": [
                      {
                        type: 'text', 
                        "text": answerPassageFirst,
                      }
                      ]
        },
        {
          "role": "user",
          "content": [
                      {
                        type: 'text', 
                        "text": confidencePrompt,
                      }
                      ]
        },
                {
          "role": "assistant",
          "content": [
                      {
                        type: 'text', 
                        "text": confidence,
                      }
                      ]
        },
        )